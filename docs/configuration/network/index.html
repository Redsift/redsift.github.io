<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Network"><meta property="og:title" content><meta property="og:description" content="Network monitoring The network monitoring grain in InGRAINd collects network events straight from the kernel, unlike most network monitoring solutions. Because of this, InGRAINd can observe detailed statistics about the network behaviour of applications without impacting network throughput and performance.
Enabling network monitoring for all network interfaces, therefore, is as easy as enabling the Network probe in config.toml:
[[probe]] pipelines = [&#34;console&#34;] [probe.config] type = &#34;Network&#34;  The grain monitors all outgoing connections from the box, and will print the details of outgoing connections:"><meta property="og:type" content="article"><meta property="og:url" content="http://ingrain.redsift.io/docs/configuration/network/"><meta property="article:modified_time" content="2020-02-21T16:59:47+00:00"><title>Network | InGRAINd</title><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.edc993575be58655f3e49634e3ca6db09cc38ac9aa03ecdbe81d941636e35273.css integrity="sha256-7cmTV1vlhlXz5JY048ptsJzDismqA+zb6B2UFjbjUnM="><script defer src=/en.search.min.9a39962d233a780790ae8f13c3645bfca2ab10170bab2be615b594e6e497dde9.js integrity="sha256-mjmWLSM6eAeQro8Tw2Rb/KKrEBcLqyvmFbWU5uSX3ek="></script></head><body><input type=checkbox class=hidden id=menu-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/><span>InGRAINd</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><p><a href=/docs/getting-started/>Getting started</a></p></li><li><p><a href=/docs/configuration/syntax/>Configuration</a></p><ul><li><a href=/docs/configuration/containers/>Container monitoring</a></li><li><a href=/docs/configuration/network/ class=active>Network monitoring</a></li><li><a href=/docs/configuration/auto-kill/>Auto-kill programs</a></li><li><a href=/docs/configuration/backends/>Backends</a></li></ul></li><li><p><a href=/docs/deployment/strategies/>Deployment</a></p><ul><li><a href=/docs/deployment/kubernetes/>Kubernetes</a></li><li><a href=/docs/deployment/ansible/>Ansible/SystemD</a></li></ul></li><li><p><a href=/docs/grain/intro/>Extending InGRAINd</a></p><ul><li><a href=/docs/grain/cargo-bpf/>cargo bpf</a></li><li><a href=/docs/grain/ebpf/>Writing an eBPF module</a></li><li><a href=/docs/grain/userspace/>Userspace events</a></li><li>Advanced<ul><li><a href=/docs/devel/profiling/>Profiling</a></li><li><a href=/docs/devel/performance/>Performance</a></li><li><a href=/docs/devel/internals/>Internals</a></li></ul></li></ul></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Network</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><input type=checkbox class=hidden id=toc-control><aside class="hidden clearfix"><nav id=TableOfContents></nav></aside></header><article class=markdown><h1 id=network-monitoring>Network monitoring</h1><p>The network monitoring grain in InGRAINd collects network events
straight from the kernel, unlike most network monitoring
solutions. Because of this, InGRAINd can observe detailed statistics
about the network behaviour of applications without impacting network
throughput and performance.</p><p>Enabling network monitoring for all network interfaces, therefore, is
as easy as enabling the <code>Network</code> probe in <code>config.toml</code>:</p><pre><code>[[probe]]
pipelines = [&quot;console&quot;]
[probe.config]
type = &quot;Network&quot;
</code></pre><p>The grain monitors all outgoing connections from the box, and will
print the details of outgoing connections:</p><pre><code>[{&quot;timestamp&quot;:1582294577893714161,
&quot;kind&quot;:13,
&quot;name&quot;:&quot;connection.out_count&quot;,
&quot;measurement&quot;:1,
&quot;tags&quot;:{&quot;s_ip&quot;:&quot;127.0.0.1&quot;,
        &quot;s_port&quot;:&quot;45719&quot;,
        &quot;d_ip&quot;:&quot;127.0.0.1&quot;,
        &quot;process_id&quot;:&quot;4878&quot;,
        &quot;process_str&quot;:&quot;Socket Thread&quot;,
        &quot;d_port&quot;:&quot;1313&quot;}}]
</code></pre><p>The details of an outbound and inbound traffic is also clearly
visible, even on localhost:</p><pre><code>[{&quot;timestamp&quot;:1582294577893874264,
&quot;kind&quot;:9,
&quot;name&quot;:&quot;volume.out_byte&quot;,
&quot;measurement&quot;:0,
&quot;tags&quot;:{&quot;d_port&quot;:&quot;1313&quot;,
        &quot;d_ip&quot;:&quot;127.0.0.1&quot;,
        &quot;process_str&quot;:&quot;Socket Thread&quot;,
        &quot;s_port&quot;:&quot;45719&quot;,
        &quot;s_ip&quot;:&quot;127.0.0.1&quot;,
        &quot;process_id&quot;:&quot;4878&quot;,
        &quot;proto&quot;:&quot;tcp&quot;}}]

[{&quot;timestamp&quot;:1582294577893943829,
&quot;kind&quot;:9,
&quot;name&quot;:&quot;volume.in_byte&quot;,
&quot;measurement&quot;:72,
&quot;tags&quot;:{&quot;s_port&quot;:&quot;8453&quot;,
        &quot;d_port&quot;:&quot;38834&quot;,
        &quot;d_ip&quot;:&quot;127.0.0.1&quot;,
        &quot;s_ip&quot;:&quot;127.0.0.1&quot;,
        &quot;proto&quot;:&quot;tcp&quot;,
        &quot;process_str&quot;:&quot;hugo&quot;,
        &quot;process_id&quot;:&quot;34081&quot;}}]
</code></pre><p>The value of <code>measurement</code> is in bytes, and every single <code>read()</code> and
<code>write()</code> system call can be observed for UDP and TCP traffic.</p></article><footer class=book-footer><div class="flex justify-between"></div><div class=book-comments></div></footer></div><aside class=book-toc><nav id=TableOfContents></nav></aside></main></body></html>