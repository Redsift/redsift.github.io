<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Network monitoring The network monitoring grain in InGRAINd collects network events straight from the kernel, unlike most network monitoring solutions. Because of this, InGRAINd can observe detailed statistics about the network behaviour of applications without impacting network throughput and performance.
Enabling network monitoring for all network interfaces, therefore, is as easy as enabling the Network probe in config.toml:
[[probe]] pipelines = [&#34;console&#34;] [probe.config] type = &#34;Network&#34;  The grain monitors all outgoing connections from the box, and will print the details of outgoing connections:"><meta property="og:title" content><meta property="og:description" content="Network monitoring The network monitoring grain in InGRAINd collects network events straight from the kernel, unlike most network monitoring solutions. Because of this, InGRAINd can observe detailed statistics about the network behaviour of applications without impacting network throughput and performance.
Enabling network monitoring for all network interfaces, therefore, is as easy as enabling the Network probe in config.toml:
[[probe]] pipelines = [&#34;console&#34;] [probe.config] type = &#34;Network&#34;  The grain monitors all outgoing connections from the box, and will print the details of outgoing connections:"><meta property="og:type" content="article"><meta property="og:url" content="http://ingrain.redsift.io/docs/configuration/network/"><meta property="article:modified_time" content="2020-02-21T16:59:47+00:00"><title>Network | InGRAINd</title><link rel=icon href=/favicon.png type=image/x-icon><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-WRMND9W');</script><link rel=stylesheet href=/scss/main.min.0a6bdfaad5136bdf38acb439bcf6da297389d89a4e523e64ee97766bfbcf68c6.css integrity="sha256-CmvfqtUTa984rLQ5vPbaKXOJ2JpOUj5k7pd2a/vPaMY="><script defer src=/en.cookie-bar.min.ab04faf8c01138d05de23261c8dc51a9abc2b8da762c10cb591c52df07e5c37c.js integrity="sha256-qwT6+MARONBd4jJhyNxRqavCuNp2LBDLWRxS3wflw3w="></script><script defer src=/en.menu-toggle.min.69e4f24782ec868af75cd1d340356d3791380f013d8f6ca41f30b4a808e60f80.js integrity="sha256-aeTyR4Lshor3XNHTQDVtN5E4DwE9j2ykHzC0qAjmD4A="></script><script defer src=/en.search.min.eee28863adeb2dc20505419662a110edba7b569a4e2630ca8206051d8e2155c3.js integrity="sha256-7uKIY63rLcIFBUGWYqEQ7bp7VppOJjDKggYFHY4hVcM="></script><script async defer src=https://buttons.github.io/buttons.js></script><link rel=apple-touch-icon sizes=180x180 href=/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicons/favicon-16x16.png><link rel=manifest href=/favicons/site.webmanifest><link rel=mask-icon href=/favicons/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><link href="https://fonts.googleapis.com/css?family=Raleway:400,500,600,700,900%7cSource+Code+Pro:400,500&display=swap" rel=stylesheet></head><body class=fixed-position><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WRMND9W" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><div id=wrapper><div class=header-container><div id=cookie-bar class="cookie-bar hide"><div class=container><h3 id=cookie-heading>This site uses cookies</h3><div class=cookie-content><p><span class=short>Weâ€™re using cookies to give you the best experience across our websites and products.
For more information,</span>
visit our <a href=https://redsift.com/cookies target=_blank rel="noopener noreferrer">Cookies policy</a></p><button id=cookie-button type=button class=btn>Accept and continue</button></div></div></div><a class=accessibility href=#main>Skip to Content</a><header id=header><div class=container><strong class=logo><a href=/><img src=/svg/logo.svg alt=ingraind width=135></a></strong>
<a class=nav-opener href=#>nav-opener<span></span></a><div class=drop><nav class="nav main-menu"><ul><li><a href=/>Intro</a></li><li><a href=/docs/getting-started/>Documentation</a></li><li><a href=/api/redbpf/>API</a></li><li><a href=https://blog.redsift.com/category/labs/>Blog</a></li></ul></nav><ul class=social-networks><li><a href=https://github.com/redsift/ingraind><i class=icon-github></i>github</a></li><li><a href=https://twitter.com/redsift><i class=icon-twitter></i>twitter</a></li></ul></div></div></header></div><input type=checkbox class=hidden id=toc-control><aside class="hidden clearfix"><nav id=TableOfContents></nav></aside><main id=main><div class="container inner-container"><aside class=sidebar><div id=left-sidebar class=fixed-block><nav class="nav-holder hide"><strong class="logo hide"><a href=/><img src=/svg/logo.svg alt=ingraind width=135></a>
<span>v1.0</span></strong><form action=# class=form-search><div class=search-bar><label for=search-input>Search</label>
<input id=search-input type=search aria-label=Search maxlength=64 data-hotkeys=s/></div><div class="book-search-spinner spinner hidden"></div><ul id=search-results class=nav-list></ul></form><ul><li><p><a href=/docs/getting-started/>Getting started</a></p></li><li><p><a href=/docs/configuration/syntax/>Configuration</a></p><ul><li><a href=/docs/configuration/containers/>Container monitoring</a></li><li><a href=/docs/configuration/network/ class=active>Network monitoring</a></li><li><a href=/docs/configuration/auto-kill/>Auto-kill programs</a></li><li><a href=/docs/configuration/backends/>Backends</a></li><li><a href=/docs/configuration/statsd/>StatsD server</a></li><li><a href=/docs/configuration/osquery/>OsQuery</a></li></ul></li><li><p><a href=/docs/deployment/strategies/>Deployment</a></p><ul><li><a href=/docs/deployment/kubernetes/>Kubernetes</a></li><li><a href=/docs/deployment/ansible/>Ansible/SystemD</a></li></ul></li><li><p>Extending InGRAINd</p><ul><li><a href=/docs/devel/profiling/>Profiling</a></li><li><a href=/docs/devel/performance/>Performance</a></li><li><a href=/docs/devel/internals/>Internals</a></li></ul></li></ul></nav><script>(function(){var menu=document.querySelector("aside.sidebar nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></div></aside><div class=content><article class=markdown><h1 id=network-monitoring>Network monitoring</h1><p>The network monitoring grain in InGRAINd collects network events
straight from the kernel, unlike most network monitoring
solutions. Because of this, InGRAINd can observe detailed statistics
about the network behaviour of applications without impacting network
throughput and performance.</p><p>Enabling network monitoring for all network interfaces, therefore, is
as easy as enabling the <code>Network</code> probe in <code>config.toml</code>:</p><pre><code>[[probe]]
pipelines = [&quot;console&quot;]
[probe.config]
type = &quot;Network&quot;
</code></pre><p>The grain monitors all outgoing connections from the box, and will
print the details of outgoing connections:</p><pre><code>[{&quot;timestamp&quot;:1582294577893714161,
&quot;kind&quot;:13,
&quot;name&quot;:&quot;connection.out_count&quot;,
&quot;measurement&quot;:1,
&quot;tags&quot;:{&quot;s_ip&quot;:&quot;127.0.0.1&quot;,
        &quot;s_port&quot;:&quot;45719&quot;,
        &quot;d_ip&quot;:&quot;127.0.0.1&quot;,
        &quot;process_id&quot;:&quot;4878&quot;,
        &quot;process_str&quot;:&quot;Socket Thread&quot;,
        &quot;d_port&quot;:&quot;1313&quot;}}]
</code></pre><p>The details of an outbound and inbound traffic is also clearly
visible, even on localhost:</p><pre><code>[{&quot;timestamp&quot;:1582294577893874264,
&quot;kind&quot;:9,
&quot;name&quot;:&quot;volume.out_byte&quot;,
&quot;measurement&quot;:0,
&quot;tags&quot;:{&quot;d_port&quot;:&quot;1313&quot;,
        &quot;d_ip&quot;:&quot;127.0.0.1&quot;,
        &quot;process_str&quot;:&quot;Socket Thread&quot;,
        &quot;s_port&quot;:&quot;45719&quot;,
        &quot;s_ip&quot;:&quot;127.0.0.1&quot;,
        &quot;process_id&quot;:&quot;4878&quot;,
        &quot;proto&quot;:&quot;tcp&quot;}}]

[{&quot;timestamp&quot;:1582294577893943829,
&quot;kind&quot;:9,
&quot;name&quot;:&quot;volume.in_byte&quot;,
&quot;measurement&quot;:72,
&quot;tags&quot;:{&quot;s_port&quot;:&quot;8453&quot;,
        &quot;d_port&quot;:&quot;38834&quot;,
        &quot;d_ip&quot;:&quot;127.0.0.1&quot;,
        &quot;s_ip&quot;:&quot;127.0.0.1&quot;,
        &quot;proto&quot;:&quot;tcp&quot;,
        &quot;process_str&quot;:&quot;hugo&quot;,
        &quot;process_id&quot;:&quot;34081&quot;}}]
</code></pre><p>The value of <code>measurement</code> is in bytes, and every single <code>read()</code> and
<code>write()</code> system call can be observed for UDP and TCP traffic.</p></article></div><aside class="aside hide"><div id=right-sidebar class=fixed-block><h3>Contents</h3><nav id=TableOfContents></nav></div></aside></div></main><footer id=footer><div class=container><span class=copy>&copy; 2020 <a href=#>Redsift Limited</a>. All rights reserved.</span><div class=social-block><ul class=social-networks><li><a href=https://github.com/redsift/ingraind><i class=icon-github></i>github</a></li><li><a href=https://twitter.com/redsift><i class=icon-twitter></i>twitter</a></li></ul></div></div></footer><a class=accessibility href=#wrapper>Back to top</a></div></body></html>