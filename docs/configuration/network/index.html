<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Network monitoring The network monitoring grain in InGRAINd collects network events straight from the kernel, unlike most network monitoring solutions. Because of this, InGRAINd can observe detailed statistics about the network behaviour of applications without impacting network throughput and performance.
Enabling network monitoring for all network interfaces, therefore, is as easy as enabling the Network probe in config.toml:
[[probe]] pipelines = [&#34;console&#34;] [probe.config] type = &#34;Network&#34;  The grain monitors all outgoing connections from the box, and will print the details of outgoing connections:"><meta property="og:title" content><meta property="og:description" content="Network monitoring The network monitoring grain in InGRAINd collects network events straight from the kernel, unlike most network monitoring solutions. Because of this, InGRAINd can observe detailed statistics about the network behaviour of applications without impacting network throughput and performance.
Enabling network monitoring for all network interfaces, therefore, is as easy as enabling the Network probe in config.toml:
[[probe]] pipelines = [&#34;console&#34;] [probe.config] type = &#34;Network&#34;  The grain monitors all outgoing connections from the box, and will print the details of outgoing connections:"><meta property="og:type" content="article"><meta property="og:url" content="http://ingrain.redsift.io/docs/configuration/network/"><meta property="article:modified_time" content="2020-02-21T16:59:47+00:00"><title>Network | InGRAINd</title><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/scss/main.min.aca61914830e4e2df3630e39b6819e7d1afdb7b6bad67d96f43246cc02f19b1e.css integrity="sha256-rKYZFIMOTi3zYw45toGefRr9t7a61n2W9DJGzALxmx4="><script defer src=/en.search.min.70910593e77336d697e5d3d4bc993888220cdc9015258355843e3016ab5e3ca8.js integrity="sha256-cJEFk+dzNtaX5dPUvJk4iCIM3JAVJYNVhD4wFqtePKg="></script><script defer src=/en.menu-toggle.min.9ea5aa8edad9939d07b5292e870281ed1c257cbf6b55317d7260d1205edba4ea.js integrity="sha256-nqWqjtrZk50HtSkuhwKB7RwlfL9rVTF9cmDRIF7bpOo="></script><link href="https://fonts.googleapis.com/css?family=Raleway:400,500,600,700,900%7cSource+Code+Pro:400,500&display=swap" rel=stylesheet></head><body class=fixed-position><div id=wrapper><a class=accessibility href=#main>Skip to Content</a><header id=header><div class=container><strong class=logo><a href=#><img src=/svg/logo.svg alt=ingraind width=135></a></strong>
<a class=nav-opener href=#>nav-opener<span></span></a><div class=drop><nav class=nav><ul class=menu><li><a href=#>Why?</a></li><li class=active><a href=#>Documentation</a></li><li><a href=/api/redbpf/>API</a></li><li><a href=https://blog.redsift.com/category/labs/>Blog</a></li></ul></nav><ul class=social-networks><li><a href=#><i class=icon-github></i>github</a></li><li><a href=#><i class=icon-twitter></i>twitter</a></li></ul></div></div></header><main id=main><div class="container inner-container"><aside class=sidebar><div class=fixed-block><nav class="nav-holder hide"><strong class="logo hide"><a href=/><img src=/svg/logo.svg alt=ingraind width=135></a>
<span>v1.0</span></strong><form action=# class=form-search><label class=hidden for=search>Search</label>
<input id=book-search-input type=search placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner spinner hidden"></div><ul id=book-search-results class=nav-list></ul></form><ul><li><p><a href=/docs/getting-started/>Getting started</a></p></li><li><p><a href=/docs/configuration/syntax/>Configuration</a></p><ul><li><a href=/docs/configuration/containers/>Container monitoring</a></li><li><a href=/docs/configuration/network/ class=active>Network monitoring</a></li><li><a href=/docs/configuration/auto-kill/>Auto-kill programs</a></li><li><a href=/docs/configuration/backends/>Backends</a></li><li><a href=/docs/configuration/statsd/>StatsD server</a></li><li><a href=/docs/configuration/osquery/>OsQuery</a></li></ul></li><li><p><a href=/docs/deployment/strategies/>Deployment</a></p><ul><li><a href=/docs/deployment/kubernetes/>Kubernetes</a></li><li><a href=/docs/deployment/ansible/>Ansible/SystemD</a></li></ul></li><li><p><a href=/docs/grain/intro/>Extending InGRAINd</a></p><ul><li><a href=/docs/grain/cargo-bpf/>cargo bpf</a></li><li><a href=/docs/grain/ebpf/>Writing an eBPF module</a></li><li><a href=/docs/grain/userspace/>Userspace events</a></li><li>Advanced<ul><li><a href=/docs/devel/profiling/>Profiling</a></li><li><a href=/docs/devel/performance/>Performance</a></li><li><a href=/docs/devel/internals/>Internals</a></li></ul></li></ul></li></ul></nav><script>(function(){var menu=document.querySelector("aside.sidebar nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></div></aside><div class=content><article class=markdown><h1 id=network-monitoring>Network monitoring</h1><p>The network monitoring grain in InGRAINd collects network events
straight from the kernel, unlike most network monitoring
solutions. Because of this, InGRAINd can observe detailed statistics
about the network behaviour of applications without impacting network
throughput and performance.</p><p>Enabling network monitoring for all network interfaces, therefore, is
as easy as enabling the <code>Network</code> probe in <code>config.toml</code>:</p><pre><code>[[probe]]
pipelines = [&quot;console&quot;]
[probe.config]
type = &quot;Network&quot;
</code></pre><p>The grain monitors all outgoing connections from the box, and will
print the details of outgoing connections:</p><pre><code>[{&quot;timestamp&quot;:1582294577893714161,
&quot;kind&quot;:13,
&quot;name&quot;:&quot;connection.out_count&quot;,
&quot;measurement&quot;:1,
&quot;tags&quot;:{&quot;s_ip&quot;:&quot;127.0.0.1&quot;,
        &quot;s_port&quot;:&quot;45719&quot;,
        &quot;d_ip&quot;:&quot;127.0.0.1&quot;,
        &quot;process_id&quot;:&quot;4878&quot;,
        &quot;process_str&quot;:&quot;Socket Thread&quot;,
        &quot;d_port&quot;:&quot;1313&quot;}}]
</code></pre><p>The details of an outbound and inbound traffic is also clearly
visible, even on localhost:</p><pre><code>[{&quot;timestamp&quot;:1582294577893874264,
&quot;kind&quot;:9,
&quot;name&quot;:&quot;volume.out_byte&quot;,
&quot;measurement&quot;:0,
&quot;tags&quot;:{&quot;d_port&quot;:&quot;1313&quot;,
        &quot;d_ip&quot;:&quot;127.0.0.1&quot;,
        &quot;process_str&quot;:&quot;Socket Thread&quot;,
        &quot;s_port&quot;:&quot;45719&quot;,
        &quot;s_ip&quot;:&quot;127.0.0.1&quot;,
        &quot;process_id&quot;:&quot;4878&quot;,
        &quot;proto&quot;:&quot;tcp&quot;}}]

[{&quot;timestamp&quot;:1582294577893943829,
&quot;kind&quot;:9,
&quot;name&quot;:&quot;volume.in_byte&quot;,
&quot;measurement&quot;:72,
&quot;tags&quot;:{&quot;s_port&quot;:&quot;8453&quot;,
        &quot;d_port&quot;:&quot;38834&quot;,
        &quot;d_ip&quot;:&quot;127.0.0.1&quot;,
        &quot;s_ip&quot;:&quot;127.0.0.1&quot;,
        &quot;proto&quot;:&quot;tcp&quot;,
        &quot;process_str&quot;:&quot;hugo&quot;,
        &quot;process_id&quot;:&quot;34081&quot;}}]
</code></pre><p>The value of <code>measurement</code> is in bytes, and every single <code>read()</code> and
<code>write()</code> system call can be observed for UDP and TCP traffic.</p></article></div><aside class="aside hide"><div class=fixed-block><h3>Contents</h3><nav id=TableOfContents></nav></div></aside></div></main><footer id=footer><div class=container><span class=copy>&copy; 2020 <a href=#>Redsift Limited</a></span><div class=social-block><ul class=social-networks><li><a href=https://github.com/redsift/ingraind><i class=icon-github></i>github</a></li><li><a href=https://twitter.com/redsift><i class=icon-twitter></i>twitter</a></li></ul></div></div></footer><a class=accessibility href=#wrapper>Back to top</a></div></body></html>