<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Docs on InGRAINd</title><link>http://ingrain.redsift.io/docs/</link><description>Recent content in Docs on InGRAINd</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><atom:link href="http://ingrain.redsift.io/docs/index.xml" rel="self" type="application/rss+xml"/><item><title/><link>http://ingrain.redsift.io/docs/configuration/auto-kill/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://ingrain.redsift.io/docs/configuration/auto-kill/</guid><description>Automatically kill programs InGRAINd can execute various commands to react to certain events with minimum overhead.
Because events are not intercepted, merely observed by the eBPF probe, InGRAIN cannot block a program from executing a certain action.
However, using the events pipeline to filter and execute commands, InGRAIN can react to events quickly and reliably without involving other processing components. This means you fundamentally cannot stop a task from executing, but long-running processes can be killed.</description></item><item><title/><link>http://ingrain.redsift.io/docs/configuration/backends/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://ingrain.redsift.io/docs/configuration/backends/</guid><description/></item><item><title/><link>http://ingrain.redsift.io/docs/configuration/containers/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://ingrain.redsift.io/docs/configuration/containers/</guid><description>Containers Monitoring containerised workloads is usually not an easy thing to do. With InGRAINd, you can get the ID of the Docker container that&amp;rsquo;s hosting the applications with simply including the following in the Container step in your pipeline.
[[pipeline.console.steps]] type = &amp;quot;Container&amp;quot; This will add the docker_id tag to each event that comes from a container, allowing you to link them to a running Docker container.
Since Kubernetes is based on Docker, this also allows you to monitor workloads in Kubernetes clusters.</description></item><item><title/><link>http://ingrain.redsift.io/docs/configuration/network/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://ingrain.redsift.io/docs/configuration/network/</guid><description>Network monitoring The network monitoring grain in InGRAINd collects network events straight from the kernel, unlike most network monitoring solutions. Because of this, InGRAINd can observe detailed statistics about the network behaviour of applications without impacting network throughput and performance.
Enabling network monitoring for all network interfaces, therefore, is as easy as enabling the Network probe in config.toml:
[[probe]] pipelines = [&amp;quot;console&amp;quot;] [probe.config] type = &amp;quot;Network&amp;quot; The grain monitors all outgoing connections from the box, and will print the details of outgoing connections:</description></item><item><title/><link>http://ingrain.redsift.io/docs/configuration/syntax/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://ingrain.redsift.io/docs/configuration/syntax/</guid><description>Configuration syntax The configuration format used by ingraind is TOML.
The primary goal of the configuration system is to set up the grains and the processing pipelines used by ingraind.
The TOML file has two sections: the probes, and the pipelines.
Probes The probe array contains the configuration for the probes, and a single entry looks like this:
[[probe]] pipelines = [&amp;quot;my_pipeline&amp;quot;, &amp;quot;another_pipeline&amp;quot;] [probe.config] type = &amp;quot;Files&amp;quot; monitor_dirs = [&amp;quot;/&amp;quot;] The probe has to specify a list of pipelines that will receive its data.</description></item><item><title/><link>http://ingrain.redsift.io/docs/deployment/ansible/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://ingrain.redsift.io/docs/deployment/ansible/</guid><description>Ansible InGRAINd provides Ansible roles in the repository that you can lift and integrate into your deployment systems.
The role installs OSQuery by default on compatible systems, which means you can use the InGRAINd - OSQuery bridge to gather a wide range of system statistics using a single configuration file.
Configuration To keep configuration as simple as possible, the role relies on the following variables:
ingraind_circleci_url ingraind_circleci_sha256 ingraind_http_api_key ingraind_http_uri By default the agent will send events to an HTTP backend periodically.</description></item><item><title/><link>http://ingrain.redsift.io/docs/deployment/kubernetes/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://ingrain.redsift.io/docs/deployment/kubernetes/</guid><description>Kubernetes Monitoring a Kubernetes cluster is easy based on the YAML files that are in the InGRAINd repository.
You can use the following containers built from the InGRAINd releases for various platforms:
latest-gke: Google Container Optimized OS (COS) latest-amzn2: Amazon Linux 2 latest-fedora31: Fedora 31 latest-elrepo8: CentOS8/Epel latest-elrepo7: CentOS7/Epel For deploying InGRAINd on Google Kubernetes Engine, use the latest-gke flavor, targeting Container Optimized OS (COS).
When using Amazon Elastic Kubernetes Service (EKS), use latest-amzn2, which also works on Amazon Linux VMs as a privileged Docker container.</description></item><item><title/><link>http://ingrain.redsift.io/docs/deployment/strategies/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://ingrain.redsift.io/docs/deployment/strategies/</guid><description>Deployment Strategies The best deployment strategy for your environment depends on a few factors. Whether you want to monitor containers, the orchestration service you&amp;rsquo;re running, and the amount of automation you already have, there are a few routes to go.
An abundance of containers To monitor containers across your fleet, you can use the native Kubernetes support. This comes packaged suitable for your environment and there&amp;rsquo;s no need to install drivers or kernel modules if you&amp;rsquo;re on one of the big cloud providers.</description></item><item><title/><link>http://ingrain.redsift.io/docs/devel/internals/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://ingrain.redsift.io/docs/devel/internals/</guid><description>How it all works Build Build starts with build.rs going through all modules in the bpf/ directory, and:
Compile all .c files with clang into BPF bytecode. Run bindgen for all structs, the names of which start with _data_ (e.g. _data_tcp_connect). bpf_helpers.h is in the include directory, so bindgen can be run freely on all .h files under bpf/. This is quirky, but works.
The produced BPF bytecode ELF packages are embedded in the final binary using include_bytes!</description></item><item><title/><link>http://ingrain.redsift.io/docs/devel/performance/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://ingrain.redsift.io/docs/devel/performance/</guid><description>Performance The following measurements were done on an 8-core Intel(R) Core(TM) i5-8250U CPU @ 1.60GHz, Arch Linux, and ingraind @ 43281a7.
The following command will produce the raw output:
cargo build --release &amp;amp;&amp;amp; \ sudo AWS_ACCESS_KEY_ID=x \ AWS_SECRET_ACCESS_KEY=x \ AWS_BUCKET=x \ AWS_INTERVAL=30 \ DNS_IF=wlp61s0 \ RUST_BACKTRACE=1 ./target/release/ingraind &amp;amp; sleep 5 \ &amp;amp;&amp;amp; (top -b -d 2 |grep ingraind) &amp;gt;top_log &amp;amp; \ iperf3 -t 10 -b 10M -c localhost &amp;gt; iperf_log \ &amp;amp;&amp;amp; sleep 1 &amp;amp;&amp;amp; iperf3 -t 10 -b 100M -c localhost &amp;gt;&amp;gt;iperf_log \ &amp;amp;&amp;amp; sleep 1 &amp;amp;&amp;amp; iperf3 -t 10 -b 1000M -c localhost &amp;gt;&amp;gt;iperf_log \ &amp;amp;&amp;amp; sleep 1 &amp;amp;&amp;amp; iperf3 -t 10 -b 10000M -c localhost &amp;gt;&amp;gt;iperf_log \ &amp;amp;&amp;amp; pkill top \ &amp;amp;&amp;amp; @ pkill ingraind Looking through the logs, we can see that CPU use follows bandwidth:</description></item><item><title/><link>http://ingrain.redsift.io/docs/devel/profiling/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://ingrain.redsift.io/docs/devel/profiling/</guid><description>Profiling During development The recommended way to profile ingraind binaries is using perf. The default --release builds are not stripped, therefore it should be easy to analyse the results.
sudo perf record ./target/release/ingraind sudo perf report Docker If running in a container, the recommended way is to start ingraind, then attach perf, and look the results off the box.
sudo docker run -d --name ingraind -e OPTION=value [...] --pid=host --net=host --privileged ingraind sudo perf record -a -p `pgrep ingraind` Looking at the results in this scenario is a bit tricky, because we will need to tell perf where the binaries are located to resolve the symbols.</description></item><item><title/><link>http://ingrain.redsift.io/docs/getting-started/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://ingrain.redsift.io/docs/getting-started/</guid><description/></item><item><title/><link>http://ingrain.redsift.io/docs/grain/cargo-bpf/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://ingrain.redsift.io/docs/grain/cargo-bpf/</guid><description/></item><item><title/><link>http://ingrain.redsift.io/docs/grain/ebpf/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://ingrain.redsift.io/docs/grain/ebpf/</guid><description/></item><item><title/><link>http://ingrain.redsift.io/docs/grain/intro/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://ingrain.redsift.io/docs/grain/intro/</guid><description/></item><item><title/><link>http://ingrain.redsift.io/docs/grain/userspace/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://ingrain.redsift.io/docs/grain/userspace/</guid><description/></item><item><title/><link>http://ingrain.redsift.io/docs/home/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://ingrain.redsift.io/docs/home/</guid><description/></item></channel></rss>